<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Coding Format - Yantrashala Docs</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Yantrashala Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">Coding Format</a>
                            </li>
                            <li class="navitem">
                                <a href="../django_setup/" class="nav-link">Django Setup</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href=".." class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../django_setup/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#django-coding-standard" class="nav-link">Django coding standard</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#introduction" class="nav-link">Introduction</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#coding-style" class="nav-link">Coding Style</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#comment-management" class="nav-link">Comment Management</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#defining-constants" class="nav-link">Defining Constants</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#import-management" class="nav-link">Import Management</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#database-structure" class="nav-link">Database Structure</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="django-coding-standard">Django coding standard</h1>
<h2 id="introduction">Introduction</h2>
<p>This document defines the coding standard we shall be using to develop our projects. In the Django tutorial documentation, we have known how to create the folder structure for our projects. Now we shall define how our code should be structured.</p>
<p>In this document, we shall discuss on the following things:</p>
<ul>
<li>Coding Style</li>
<li>Comment Management</li>
<li>Defining Static Values</li>
<li>Import Management</li>
<li>Database Structure</li>
<li>Settings Management</li>
<li>Environment Variables<ul>
<li>Storing environment variables</li>
<li>Extracting environment variables</li>
</ul>
</li>
<li>Apps Management</li>
<li>Models Management<ul>
<li>Writing Models</li>
<li>Issues relating to models and migrations</li>
</ul>
</li>
<li>Views Management<ul>
<li>Writing views</li>
<li>Issues relating to views</li>
</ul>
</li>
</ul>
<h2 id="coding-style">Coding Style</h2>
<ul>
<li>Unless stated, we will use <a href="https://www.python.org/dev/peps/pep-0008/">PEP8</a> standard. </li>
<li>Use four spaces for indentation.</li>
<li>Use four space hanging indentation rather than vertical alignment as:<pre><code>return render(
    request,
    self.template_name,
    {'object': object}
)
</code></pre>
<p>Instead of:</p>
<pre><code>return render(request, 
            self.template_name,
            {'object': object})
</code></pre>
<ul>
<li>Use underscores for function names rather than camelCase.</li>
<li>Use InitialCaps for class names.</li>
</ul>
</li>
</ul>
<h2 id="comment-management">Comment Management</h2>
<p>In this section, we shall discuss how to write comments in our code. We can use inline comments, function or class level comments or file level comments.</p>
<p>For inline comments, we need to provide two spaces and start writing the comment.
For example,</p>
<pre><code>input_string = "Hello world."
formatted_string = input_string.strip(" ")  # remove the whitespace from the string
</code></pre>
<p>You should provide two spaces before the <code>#</code> sign and a single space after it. Make sure that the comments are short and readable.</p>
<p>Similarly, for functional or class based comments, we will be using <code>""" """</code> comment style. Details to be included in comments for functions are:</p>
<ol>
<li>What the function does?</li>
<li>What parameters does it take?</li>
<li>Ways to call the function.</li>
<li>What is returned by the function?</li>
</ol>
<p>Example:</p>
<pre><code>def sum(a, b):
    """
    This function adds two numbers provided to it as an argument.
    It expects two integer arguments and returns a integer argument.
    Calling it:
        total = sum(1, 2)
        print(total)
    Make sure that you pass two integer values. 
    In case, any other data types are sent (for example, string),
    the function does not provide the output as expected. 
    """
    return a + b
</code></pre>
<p>Details to be included in comments for class are:</p>
<ol>
<li>What is the class defined for?</li>
<li>What are the initial arguments it takes?</li>
<li>What properties can be overridden?</li>
</ol>
<p>Example:</p>
<pre><code>class Person(object):
    """
    This class defines a person with attributes name and age.
    Basically name is a string and age is an integer.
    We can define the name and age of the person object during object creation as
        p = Person("demo", 26)
    """
    def __init__(self, name, age):
        self.name = name
        self.age = age

    def concat_fields(self):
        """
        This function returns a string which is formed by 
        concatenating the name and age of a person object.
        To call this function, you can just use p.concat_fields(), 
        where p is a Person object.
        """
        return self.name + ' ' + str(self.age)
</code></pre>
<h2 id="defining-constants">Defining Constants</h2>
<p>Contants are required to define some values that will be constant within a function, class, file or the projet as a whole.</p>
<p>We can define constants that can be used within a single class, a single function, a single file or the overall project. Make sure that you can reuse the constant wherever you need. Every constants are written in all caps form. For example:</p>
<pre><code>DEBUG  = True
</code></pre>
<p>Defining constants within function:</p>
<pre><code>def show_me_what_you_got():
    """
    This function prints a static value.
    """
    WHAT_I_GOT = "power"
    print("I've got the ", WHAT_I_GOT)
</code></pre>
<p>For class, we can use the same format as that of functions.</p>
<p>Similarly, for reusing the constant in a single file, we can define it on top of the files after defining the imports.
To use the constant in the whole project, we can define the constant in a file and import it in other files.</p>
<p>Such constants can be of any type. They can be a string, an integer, a list, a dictionary, a tuple, etc.</p>
<h2 id="import-management">Import Management</h2>
<p>Order of import:</p>
<ol>
<li>Future imports</li>
<li>Standard library</li>
<li>Third-party libraries</li>
<li>Other Django components</li>
<li>Local Django components</li>
</ol>
<p>We can call these listed orders as import modules.</p>
<pre><code>    #! import_example.py

    # future
    from __future__ import unicode_literals

    # standard libraries
    import json
    import sys
    from itertools import chain

    # third-party
    import bycrypt

    # Django
    from django.conf import settings
    from django.contrib.auth.models import Group
    from django.http.response import (
        Http404, HttpResponse, HttpResponseNotAllowed, 
    )

    # local Django
    from .models import DemoModel

    CONSTANT = "power"
</code></pre>
<ul>
<li>Provide a space between different importing modules.</li>
<li>Place the imports alphabetically within a single import module.</li>
</ul>
<h2 id="database-structure">Database Structure</h2>
<p>In our projects, we will be using normalized database architecture upto 3NF. For user table, we will use the default Django User model. If additional fields are to be added in the User model, we will create a custom user model by inheriting the AbstractUser. In case the fields can be added in user profile, we will create a user profile model using One-To-One relationship between user and user profile.</p>
<p>Creating a custom User model extending the <code>AbstractUser</code>:</p>
<pre><code>from django.contrib.auth.models import AbstractUser


class CustomUser(AbstractUser):
    """
    Define the fields to be added in Django default User model.
    """
    gender = models.CharField()
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
